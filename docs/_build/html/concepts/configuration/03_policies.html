

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>POLICIES &mdash; Comet v1.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/modify.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/logo.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Training Data Format" href="../trainning_data/index.html" />
    <link rel="prev" title="LOCK STORE" href="02_lock_store.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/introduction.html">An introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/motivation.html">Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/motivation.html#scope">Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/motivation.html#task-oriented-dialog-systems">Task-oriented dialog systems</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/play_around.html">Play Around</a></li>
</ul>
<p class="caption"><span class="caption-text">Step By Step Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/00_overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/01_define_the_hierarchy.html">Step 1: Define domain, ontology, database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/02_custom_the_dialogue_state.html">Step 2: Custom the Dialogue State (Optional)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/03_custom_the_state_featurizer.html">Step 3: Custom the State Featurizer (Optional)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/04_custom_dialogue_state_tracker.html">Step 4: Custom the Dialogue State Tracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/05_define_a_hancraft_policy.html">Step 5: Build a Warm-up Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/06_build_natatural_language_template.html">Step 6: Build a Natural Language Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/07_build_user_simulator.html">Step 7: Build the User Simulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/08_connect_all_components_by_config.html">Step 8: Connect all components by Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/09_generate_training_data.html">Step 9: Prepare Training Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/10_deploy_and_train_models.html">Step 10: Train and deploy models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../step_by_step/Summarize.html">Summarize</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../domain.html">Domain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../domain.html#ontology">Ontology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../domain.html#database">Database</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_overview.html#general">GENERAL</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_overview.html#dialogue">DIALOGUE</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_overview.html#agent">AGENT</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_lock_store.html">LOCK STORE</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">POLICIES</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#policy-priority">Policy Priority</a></li>
<li class="toctree-l3"><a class="reference internal" href="#policy-algorithms">Policy algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#babehandcraftpolicy">BabeHandcraftPolicy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#svmpolicy">SVMPolicy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vanillapolicy">VanillaPolicy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lstmpolicy">LSTMPolicy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../trainning_data/index.html">Training Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">Comet’s components!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reinforcement_learning.html">Reinforcement Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chanel_connector.html">Channel Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Architecture.html">Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../comet/comet.html">comet package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Comet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Configuration</a> &raquo;</li>
        
      <li>POLICIES</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/concepts/configuration/03_policies.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="policies">
<h1>POLICIES<a class="headerlink" href="#policies" title="Permalink to this headline">¶</a></h1>
<p>The assistant uses policies to decide which action to take at each step in a conversation.
There are machine-learning and rule-based policies that your assistant can use in tandem.</p>
<p>You can customize the policies your assistant uses by specifying the policies key in your
project’s config.yml. There are different policies to choose from, and you can include multiple
policies in a single configuration. Here’s an example of what a list of policies might look like</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">POLICY</span><span class="p">:</span>
    <span class="nt">policy_0</span><span class="p">:</span>
      <span class="nt">package</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">src.babe_warm_up_policy</span>
      <span class="nt">class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BabeWarmUpPolicy</span>
      <span class="nt">arguments</span><span class="p">:</span>
        <span class="nt">algorithm</span><span class="p">:</span>
            <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
    <span class="nt">policy_1</span><span class="p">:</span>
      <span class="nt">package</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">comet.agent.core.dialogue_policy.supervised_learning.svm_classifier_policy</span>
      <span class="nt">class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SVMPolicy</span>
      <span class="nt">arguments</span><span class="p">:</span>
        <span class="nt">WP</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">auto</span>
        <span class="nt">train</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
        <span class="nt">algorithm</span><span class="p">:</span>
            <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
    <span class="nt">policy_2</span><span class="p">:</span>
      <span class="nt">package</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">comet.agent.core.dialogue_policy.supervised_learning.vanilla_classifier_policy</span>
      <span class="nt">class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">VanillaPolicy</span>
      <span class="nt">arguments</span><span class="p">:</span>
        <span class="nt">WP</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">auto</span>
        <span class="nt">train</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
        <span class="nt">algorithm</span><span class="p">:</span>
            <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<div class="section" id="policy-priority">
<h2>Policy Priority<a class="headerlink" href="#policy-priority" title="Permalink to this headline">¶</a></h2>
<p>In the case that two policies predict with equal confidence or greater than a policy threshold, the
priority of the policies is considered. Comet have default priorities that are set to ensure the
expected outcome in the case of a tie. They look like this, where higher numbers have higher priority:</p>
<p>6 - BabeHandcraftPolicy</p>
<p>3 - SVMPolicy</p>
<p>1 - VanillaPolicy</p>
</div>
<div class="section" id="policy-algorithms">
<h2>Policy algorithms<a class="headerlink" href="#policy-algorithms" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="babehandcraftpolicy">
<h2>BabeHandcraftPolicy<a class="headerlink" href="#babehandcraftpolicy" title="Permalink to this headline">¶</a></h2>
<p><strong>Configuration</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">POLICY</span><span class="p">:</span>
    <span class="nt">policy_0</span><span class="p">:</span>
      <span class="nt">package</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">src.babe_warm_up_policy</span>
      <span class="nt">class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BabeWarmUpPolicy</span>
      <span class="nt">arguments</span><span class="p">:</span>
        <span class="nt">algorithm</span><span class="p">:</span>
            <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">priority</span></code>: the priority of this policy</p></li>
</ul>
</div>
<div class="section" id="svmpolicy">
<h2>SVMPolicy<a class="headerlink" href="#svmpolicy" title="Permalink to this headline">¶</a></h2>
<p><strong>Configuration</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">POLICY</span><span class="p">:</span>
    <span class="nt">policy_0</span><span class="p">:</span>
        <span class="nt">package</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">comet.agent.core.dialogue_policy.supervised_learning.svm_classifier_policy</span>
        <span class="nt">class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SVMPolicy</span>
        <span class="nt">arguments</span><span class="p">:</span>
            <span class="nt">algorithm</span><span class="p">:</span>
                <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SF</span></code>: State feature module</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">training</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code> it will train the policy with train data provided in <code class="docutils literal notranslate"><span class="pre">GENERAL</span></code> section</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">testing</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code> it will test the policy model with test data provided in <code class="docutils literal notranslate"><span class="pre">GENERAL</span></code> section</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code>: a dictionary of</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">priority</span></code>: the priority of this policy</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="vanillapolicy">
<h2>VanillaPolicy<a class="headerlink" href="#vanillapolicy" title="Permalink to this headline">¶</a></h2>
<p><strong>Configuration</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">POLICY</span><span class="p">:</span>
    <span class="nt">policy_0</span><span class="p">:</span>
        <span class="nt">package</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">comet.agent.core.dialogue_policy.supervised_learning.vanilla_classifier_policy</span>
        <span class="nt">class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">VanillaPolicy</span>
        <span class="nt">arguments</span><span class="p">:</span>
            <span class="nt">algorithm</span><span class="p">:</span>
                <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SF</span></code>: State feature module</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">training</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code> it will train the policy with train data provided in <code class="docutils literal notranslate"><span class="pre">GENERAL</span></code> section</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">testing</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code> it will test the policy model with test data provided in <code class="docutils literal notranslate"><span class="pre">GENERAL</span></code> section</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code>: a dictionary of</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">priority</span></code>: the priority of this policy</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">training_epoch</span></code>: Number of epoch to train</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate</span></code>: The learning rate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">batch_size</span></code>: Batch size</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">momentum</span></code>: The momemtum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">confidence_threshold</span></code>: The confidence thresh, use to select best option form multi policies</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="lstmpolicy">
<h2>LSTMPolicy<a class="headerlink" href="#lstmpolicy" title="Permalink to this headline">¶</a></h2>
<p><strong>Configuration</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">POLICY</span><span class="p">:</span>
    <span class="nt">policy_0</span><span class="p">:</span>
        <span class="nt">package</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">comet.agent.core.dialogue_policy.supervised_learning.lstm_classifier_policy</span>
        <span class="nt">class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">LSTMPolicy</span>
        <span class="nt">arguments</span><span class="p">:</span>
            <span class="nt">algorithm</span><span class="p">:</span>
                <span class="nt">training_epoch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SF</span></code>: State feature module</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">training</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code> it will train the policy with train data provided in <code class="docutils literal notranslate"><span class="pre">GENERAL</span></code> section</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">testing</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code> it will test the policy model with test data provided in <code class="docutils literal notranslate"><span class="pre">GENERAL</span></code> section</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code>: a dictionary of</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">priority</span></code>: the priority of this policy</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">training_epoch</span></code>: Number of epoch to train</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate</span></code>: The learning rate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">batch_size</span></code>: Batch size</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">momentum</span></code>: The momemtum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hidden_dim</span></code>: number of hidden layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_states</span></code>: number of history states use for featurize</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">confidence_threshold</span></code>: The confidence thresh, use to select best option form multi policies</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../trainning_data/index.html" class="btn btn-neutral float-right" title="Training Data Format" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="02_lock_store.html" class="btn btn-neutral float-left" title="LOCK STORE" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, NLP Team, Ftech.AI

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>